<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 6.0//EN"
        "https://struts.apache.org/dtds/struts-6.0.dtd">
<struts>
    <!-- Convention config -->
    <constant name="struts.convention.action.suffix" value="Controller"/>
	<constant name="struts.convention.action.mapAllMatches" value="true"/>
	<constant name="struts.convention.default.parent.package" value="rest-default"/>
	<constant name="struts.convention.package.locators" value="br.com.kuntze.strutspring.controllers"/>
	
	<!-- Spring Security -->
	<constant name="struts.security.interceptor.class" value="org.springframework.security.web.csrf.CsrfFilter"/>

    <!-- Add addition packages and configuration here. -->
    <package name="rest" extends="rest-default">
	    <interceptors>
	        <interceptor name="oauthTokenInterceptor" class="br.com.kuntze.strutspring.interceptors.OAuthTokenInterceptor">
	            <param name="excludedPatterns">/oauth/token</param>
	        </interceptor>
	        <interceptor-stack name="defaultStack">
	            <interceptor-ref name="oauthTokenInterceptor"/>
	            <interceptor-ref name="defaultStack"/> </interceptor-stack>
	    </interceptors>
        <global-allowed-methods>index,show,create,update,destroy,deleteConfirm,edit,editNew</global-allowed-methods>
    </package>
</struts>
